<template>
	<div>
		<x-header :left-options="{backText: ''}">备注列表</x-header>
		<div class="wrapper">
			<div class="search">
				<div class="toggle-button">
					<button class="btn btn-no-radius" :class="{'btn-checked': isChecked}" @click="checkIndex(1)" style="border-right: none;">时间</button>
					<button class="btn btn-no-radius" :class="{'btn-checked': !isChecked}" @click="checkIndex(2)">搜索</button>
				</div>
				<div class="toggle-item">
					<div class="item01" v-show="isChecked">
						<input type="text" class="text-search"/>
						<i class="iconfont icon-search"></i>
					</div>
					<div class="item02" v-show="!isChecked">
						<button class="time-search1" @click="open('pickerStart')">{{pickerValue1 | formatDate}}</button>
						<mt-datetime-picker
							ref="pickerStart"
							type="date"
							year-format="{value} 年"
							month-format="{value} 月"
							date-format="{value} 日"
							@confirm="handleConfirm1"
							:value="pickerValue1">
						</mt-datetime-picker>
						&nbsp;至
						<button class="time-search2" @click="open('pickerEnd')">{{pickerValue2 | formatDate}}</button>
						<mt-datetime-picker
							ref="pickerEnd"
							type="date"
							year-format="{value} 年"
							month-format="{value} 月"
							date-format="{value} 日"
							@confirm="handleConfirm2"
							:value="pickerValue2">
						</mt-datetime-picker>
					</div>
				</div>
			</div>
			<remark-list></remark-list>
		</div>
	</div>
</template>

<script>
import { XHeader, ButtonTab, ButtonTabItem, Datetime, Group, Calendar } from 'vux'
import RemarkList from 'base/remarkList/remarkList'
import { formatDate } from '@/common/js/date'

export default {
  components: {
    XHeader,
    ButtonTab,
    ButtonTabItem,
    RemarkList,
    Datetime,
    Group,
		Calendar
  },
  data () {
  	return {
  		isChecked: true,
  		value1: '',
  		value2: null,
			demo5: [],
			pickerVisible: false,
			pickerValue1: new Date(),
			pickerValue2: new Date()
  	}
	},
	filters: {
    formatDate (time) {
      var date = new Date(time)
      return formatDate(date)
    }
  },
  methods: {
  	checkIndex (num) {
  		num === 1 ? this.isChecked = true : this.isChecked = false
  	},
		open (picker) {
			this.$refs[picker].open()
		},
		handleConfirm1 (val) {
			this.pickerValue1 = val
		},
		handleConfirm2 (val) {
			this.pickerValue2 = val
		}
  }
}
</script>

<style scoped lang="less">
.search {
	text-align: center;
	.toggle-button {
		display: inline-block;
	}
	.toggle-item {
		margin-bottom: 40px;
		height: 60px;
		.item01,
		.item02 {
			width: 500px;
			height: 100%;
	    position: relative;
	    margin-left: 100px;
			.text-search {
				width: 100%;
				height: 100%;
				text-indent: 10px;
			}
			i {
				position: absolute;
		    top: 50%;
		    right: 20px;
		    transform: translateY(-50%);
  			-webkit-transform: translateY(-50%);
		    font-size: 45px; /*px*/
		  	color: #999;
			}
			.time-search1,
			.time-search2 {
				width: 40%;
				height: 100%;
				display: inline-block;
				position: relative;
				background-color: #fff;
				color: #666;
				border: 1px solid #ccc;
				font-size: 24px; /*px*/
			}
		}
		// .item02 {
		// 	.weui-cells {
		// 		height: 60px;
		// 	}
		// }
	}
}
.toggle-button {
	font-size: 0px;
	margin-top: 40px;
	margin-bottom: 40px;
	/*position: absolute;*/
	/*top: 10px;*/
	/*right: 10px;*/
}
.btn-checked {
	background-color: #0083c5;
	color: #fff;
}
.btn-no-radius {
	border-radius: 0;
}
.vux-no-group-title {
	height: 100%!important;
}
</style>
